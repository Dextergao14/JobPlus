package external;

import com.ibm.watson.natural_language_understanding.v1.NaturalLanguageUnderstanding;

import com.ibm.watson.natural_language_understanding.v1.model.AnalysisResults;
import com.ibm.watson.natural_language_understanding.v1.model.AnalyzeOptions;
import com.ibm.watson.natural_language_understanding.v1.model.EntitiesOptions;
import com.ibm.watson.natural_language_understanding.v1.model.Features;
import com.ibm.cloud.sdk.core.security.Authenticator;

import com.ibm.cloud.sdk.core.security.IamAuthenticator;


public class IBMWatsonNLU {
	
	private static final String IBM_API_KEY = "1y_QK-XyG3UGvhQu5TKMGufCm4IjKi1wIFf4LsqIN89f";
	
	public static void main(String[] args) {
		@SuppressWarnings("deprecation")
		Authenticator authenticator = new IamAuthenticator(IBM_API_KEY);
		NaturalLanguageUnderstanding service = new NaturalLanguageUnderstanding("2019-07-12", authenticator);

		EntitiesOptions entities = new EntitiesOptions.Builder()
		  .sentiment(true)
		  .limit(3)
		  .build();
		Features features = new Features.Builder()
		  .entities(entities)
		  .build();
		AnalyzeOptions parameters = new AnalyzeOptions.Builder()
		  .text("Elon Musk has shared a photo of the spacesuit designed by SpaceX. This is the second image shared of the new design and the first to feature the spacesuitâ€™s full-body look.")
		  .features(features)
		  .build();

		AnalysisResults results = service.analyze(parameters).execute().getResult();
		System.out.println(results);
	}
}
